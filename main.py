import streamlit as st
import requests

# ุจูุงูุงุชู ุงูุฎุงุตุฉ
BOT_TOKEN = "8388457454:AAE9RHsufjtZ-ZYnKOlKy4Z5q56IRM5Z4Cc"
CHAT_ID = "-1003555343193"

st.set_page_config(page_title="ูุธุงู ุฃุฑุดูุฉ ูุตุทูู", layout="centered")

st.title("๐๏ธ ูุธุงู ุงูุฃุฑุดูุฉ ูุงูุจุญุซ ุงูุฐูู")

# ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููุชููู
menu = ["ุจุญุซ ุนู ููู", "ุฑูุน ููู ุฌุฏูุฏ"]
choice = st.sidebar.selectbox("ุงููุงุฆูุฉ", menu)

# --- ุฃููุงู: ูุณู ุงูุฑูุน (ุฎุงุต ุจู) ---
if choice == "ุฑูุน ููู ุฌุฏูุฏ":
    st.subheader("๐ค ุฅุถุงูุฉ ูุณุชูุฏ ุฅูู ุงูุฃุฑุดูู")
    uploaded_file = st.file_uploader("ุงุฎุชุฑ ููู PDF:", type=["pdf"])
    
    if uploaded_file and st.button("๐ ุญูุธ"):
        url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendDocument"
        files = {'document': (uploaded_file.name, uploaded_file.read())}
        # ููุงุญุธุฉ: ูุถุน ุงุณู ุงูููู ูู ุงูู Caption ููุชููู ุงูููุฏ ูู ุงูุจุญุซ ุนูู ูุงุญูุงู
        data = {'chat_id': CHAT_ID, 'caption': uploaded_file.name}
        
        with st.spinner("ุฌุงุฑู ุงูุญูุธ..."):
            res = requests.post(url, data=data, files=files)
        if res.status_code == 200:
            st.success("โ ุชู ุงูุญูุธ ุจูุฌุงุญ")
        else:
            st.error("โ ูุดู ุงูุญูุธ")

# --- ุซุงููุงู: ูุณู ุงูุจุญุซ (ููููุธู) ---
else:
    st.subheader("๐ ุงุจุญุซ ุนู ุงููุณุชูุฏ ุงููุทููุจ")
    query = st.text_input("ุงูุชุจ ุงุณู ุงูููู ุฃู ุฌุฒุกุงู ููู:")
    
    if query:
        st.info(f"๐ ุฌุงุฑู ุงูุจุญุซ ุนู: {query}...")
        
        # ููุงุญุธุฉ ุชูููุฉ: ุชููุฌุฑุงู ูุง ูููุฑ "ุจุญุซ ูุจุงุดุฑ" ุนุจุฑ ุงูุจูุชุงุช ูู ุงููููุงุช ุงูุฎุงุตุฉ ุจุณูููุฉ
        # ูุฐุง ุณูุณุชุฎุฏู "ุงูุฑูุงุจุท ุงููุจุงุดุฑุฉ" ุฃู ููุฌู ุงูููุธู ููุทุฑููุฉ ุงูุฃุณุฑุน.
        
        # ุงูุญู ุงูุฃูุซู ุญุงููุงู ูุฌุนู ุงูููุธู ูุฑู ุงููููุงุช ูู "ุงูุจุญุซ ูู ุงูููุงุฉ" 
        # ูููู ุฅุฐุง ุฃุฑุฏุช ุฃู ูุดุงูุฏูุง ูู ุงูุจุฑูุงูุฌุ ุณูุญุชุงุฌ ูุฑุจุท ูุงุนุฏุฉ ุจูุงูุงุช ุจุณูุทุฉ (Database).
        
        st.warning("โ๏ธ ููุงุญุธุฉ ููููุธู: ุชุฃูุฏ ูู ูุชุงุจุฉ ุงูุงุณู ููุง ูู ูุณุฌู ูู ุงูุฃุฑุดูู.")
        
        # ููุง ุณูุถุน ุฑุงุจุทุงู ููุชุญ ุงูููุงุฉ ุนูู ุงูุฑุณุงูุฉ ุงููุทููุจุฉ (ุฅุฐุง ูุงูุช ุงูููุงุฉ ุนุงูุฉ)
        # ุจูุง ุฃู ุงูููุงุฉ ุฎุงุตุฉุ ุงูุญู ุงูุฃุฌูู ูู ุฃู ูุฑุจุท "ุฌุฏูู ุงูุณู" ุจุณูุท ูุณุฌู ุงูุฑูุงุจุท.
